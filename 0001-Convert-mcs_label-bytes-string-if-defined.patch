From c2b85dc955f12603603559c7d0dc874255efc50b Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?R=C3=A9mi=20Palancher?= <remi-externe.palancher@edf.fr>
Date: Thu, 25 Nov 2021 10:54:17 +0100
Subject: [PATCH 1/2] =?UTF-8?q?Convert=20mcs=5Flabel=20bytes=E2=86=92strin?=
 =?UTF-8?q?g=20if=20defined?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Patch submitted upstream: https://github.com/PySlurm/pyslurm/pull/207

---
 pyslurm/pyslurm.pyx | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

diff --git a/pyslurm/pyslurm.pyx b/pyslurm/pyslurm.pyx
index db44a13..cbe875e 100644
--- a/pyslurm/pyslurm.pyx
+++ b/pyslurm/pyslurm.pyx
@@ -3083,11 +3083,7 @@ cdef class node:
                 slurm.stringOrNone(record.gres_used, '')
             )
 
-            if record.mcs_label == NULL:
-                Host_dict[u'mcs_label'] = None
-            else:
-                Host_dict[u'mcs_label'] = record.mcs_label
-
+            Host_dict[u'mcs_label'] = slurm.stringOrNone(record.mcs_label, '')
             Host_dict[u'mem_spec_limit'] = record.mem_spec_limit
             Host_dict[u'name'] = slurm.stringOrNone(record.name, '')
 
-- 
2.18.4

